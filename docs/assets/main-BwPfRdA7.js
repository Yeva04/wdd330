import{r as s}from"./utils-Dn-3GGK0.js";import{P as o}from"./ProductData-Bu4vevRq.js";function i(e){var a;if(console.log("Rendering product, image path:",e.Image),!e||!e.Id)return console.error("Invalid product data:",e),'<li class="product-card error">Invalid Product</li>';const t=`/images/tents/${e.Image.split("/").pop()}?v=${new Date().getTime()}`;return`<li class="product-card">
    <a href="/product_pages/?product=${e.Id}">
      <img src="${t}" alt="Image of ${e.Name||e.NameWithoutBrand||"Unnamed Product"}" 
           onload="console.log('Image loaded:', '${t}');" 
           onerror="console.log('Image failed, using fallback:', '/images/noun_Tent_2517.svg'); this.src='/images/noun_Tent_2517.svg'; this.onerror=null;" />
      <h3 class="card__brand">${((a=e.Brand)==null?void 0:a.Name)||"Unknown Brand"}</h3>
      <h2 class="card__name">${e.Name||e.NameWithoutBrand||"Unnamed Product"}</h2>
      <p class="product-card__price">$${e.ListPrice||e.FinalPrice||0}</p>
    </a>
    <button class="addToCart" data-id="${e.Id}">Add to Cart</button>
  </li>`}class l{constructor(t,a,r){this.category=t,this.dataSource=a,this.listElement=r}async init(){try{const t=await this.dataSource.getData();console.log("Raw data from tents.json:",t);const a=t.filter(r=>["880RR","985RF","985PR","344YJ"].includes(r.Id));if(console.log("Filtered list length:",a.length,"Products:",a),a.length===4)this.renderList(a);else throw new Error("Filtered list does not contain all 4 products")}catch(t){console.error("Error loading products:",t);const a=[{Id:"880RR",Name:"Marmot Ajax Tent - 3-Person, 3-Season",Image:"../images/tents/marmot-ajax-tent-3-person-3-season-in-pale-pumpkin-terracotta~p~880rr_01~320.jpg",ListPrice:199.99,FinalPrice:199.99,Brand:{Name:"Marmot"}},{Id:"985RF",Name:"The North Face Talus Tent - 4-Person, 3-Season",Image:"../images/tents/the-north-face-talus-tent-4-person-3-season-in-golden-oak-saffron-yellow~p~985rf_01~320.jpg",ListPrice:199.99,FinalPrice:199.99,Brand:{Name:"The North Face"}},{Id:"985PR",Name:"The North Face Alpine Guide Tent - 3-Person, 4-Season",Image:"../images/tents/the-north-face-alpine-guide-tent-3-person-4-season-in-canary-yellow-high-rise-grey~p~985pr_01~320.jpg",ListPrice:349.99,FinalPrice:349.99,Brand:{Name:"The North Face"}},{Id:"344YJ",Name:"Cedar Ridge Rimrock Tent - 2-Person, 3-Season",Image:"../images/tents/cedar-ridge-rimrock-tent-2-person-3-season-in-rust-clay~p~344yj_01~320.jpg",ListPrice:69.99,FinalPrice:69.99,Brand:{Name:"Cedar Ridge"}}];console.log("Using fallback list:",a),this.renderList(a)}}renderList(t){s(i,this.listElement,t)}}const c=new o("tents"),n=document.querySelector(".product-list"),d=new l("tents",c,n);d.init().catch(e=>{console.error("Error initializing ProductList:",e),n.innerHTML='<p class="error-message">Failed to load products. Please refresh the page.</p>'});
