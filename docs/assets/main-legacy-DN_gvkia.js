System.register(["./utils-legacy-Cbk2QL-x.js","./ProductDetails-legacy-CBnOqSL6.js"],function(t,e){"use strict";var s,n,r;return{setters:[t=>{s=t.r},t=>{n=t.P,r=t.a}],execute:function(){let t=null;function e(t){if(console.log("Rendering product, image path:",t.Image),!t||!t.Id)return console.error("Invalid product data:",t),'<li class="product-card error">Invalid Product</li>';const e="/wdd330/",s=`${e}images/tents/${t.Image.split("/").pop()}?v=${(new Date).getTime()}`,n=`${e}images/noun_Tent_2517.svg`;return`<li class="product-card" data-id="${t.Id}">\n    <a href="#" class="product-link">\n      <img src="${s}" alt="Image of ${t.Name||t.NameWithoutBrand||"Unnamed Product"}" \n           onload="console.log('Image loaded:', '${s}');" \n           onerror="console.log('Image failed, using fallback:', '${n}'); this.src='${n}'; this.onerror=null;" />\n      <h3 class="card__brand">${t.Brand?.Name||"Unknown Brand"}</h3>\n      <h2 class="card__name">${t.Name||t.NameWithoutBrand||"Unnamed Product"}</h2>\n      <p class="product-card__price">$${t.ListPrice||t.FinalPrice||0}</p>\n    </a>\n    <button class="addToCart" data-id="${t.Id}">Add to Cart</button>\n  </li>`}const a=new r("tents"),o=document.querySelector(".product-list"),i=new class{constructor(t,e,s){this.category=t,this.dataSource=e,this.listElement=s,this.initProductDetails()}initProductDetails(){const e=new URLSearchParams(window.location.search).get("product");e&&(t=new n(e,new ProductData("tents")),t.init().then(()=>{this.hideList()}))}hideList(){if(this.listElement){this.listElement.style.display="none";const t=document.querySelector(".product-detail");t&&(t.style.display="block")}}showList(){if(this.listElement){this.listElement.style.display="block";const t=document.querySelector(".product-detail");t&&(t.style.display="none")}}async init(){try{const t=await this.dataSource.getData();console.log("Raw data from tents.json:",t);const e=t.filter(t=>["880RR","985RF","985PR","344YJ"].includes(t.Id));console.log("Filtered list length:",e.length,"Products:",e),this.renderList(e),this.addEventListeners()}catch(t){console.error("Error loading products:",t),this.listElement.innerHTML='<p class="error-message">Failed to load products. Please refresh the page.</p>'}}renderList(t){s(e,this.listElement,t)}addEventListeners(){this.listElement.querySelectorAll(".product-link").forEach(e=>{e.addEventListener("click",s=>{s.preventDefault();const r=e.closest(".product-card").dataset.id;window.location.search=`?product=${r}`,t&&t.productId===r||(t=new n(r,new ProductData("tents"))),t.init().then(()=>{this.hideList()})})}),this.listElement.querySelectorAll(".addToCart").forEach(t=>{t.addEventListener("click",()=>{console.log("Add to cart clicked for:",t.dataset.id)})})}}("tents",a,o);i.init().catch(t=>{console.error("Error initializing ProductList:",t),o.innerHTML='<p class="error-message">Failed to load products. Please refresh the page.</p>'})}}});
