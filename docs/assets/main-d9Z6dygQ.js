import{r as n}from"./utils-B1gkA_s2.js";import{P as i}from"./ProductData-DRfcUAi5.js";function g(){import.meta.url,import("_").catch(()=>1),(async function*(){})().next()}function l(t){var s;if(console.log("Rendering product, image path:",t.Image),!t||!t.Id)return console.error("Invalid product data:",t),'<li class="product-card error">Invalid Product</li>';const e="/wdd330/",a="".concat(e,"images/tents/").concat(t.Image.split("/").pop(),"?v=").concat(new Date().getTime()),r="".concat(e,"images/noun_Tent_2517.svg");return'<li class="product-card">\n    <a href="/wdd330/product_pages/index.html?product='.concat(t.Id,'">\n      <img src="').concat(a,'" alt="Image of ').concat(t.Name||t.NameWithoutBrand||"Unnamed Product","\" \n           onload=\"console.log('Image loaded:', '").concat(a,"');\" \n           onerror=\"console.log('Image failed, using fallback:', '").concat(r,"'); this.src='").concat(r,'\'; this.onerror=null;" />\n      <h3 class="card__brand">').concat(((s=t.Brand)==null?void 0:s.Name)||"Unknown Brand",'</h3>\n      <h2 class="card__name">').concat(t.Name||t.NameWithoutBrand||"Unnamed Product",'</h2>\n      <p class="product-card__price">$').concat(t.ListPrice||t.FinalPrice||0,'</p>\n    </a>\n    <button class="addToCart" data-id="').concat(t.Id,'">Add to Cart</button>\n  </li>')}class d{constructor(e,a,r){this.category=e,this.dataSource=a,this.listElement=r}async init(){try{const e=await this.dataSource.getData();console.log("Raw data from tents.json:",e);const a=e.filter(r=>["880RR","985RF","985PR","344YJ"].includes(r.Id));console.log("Filtered list length:",a.length,"Products:",a),this.renderList(a),this.addEventListeners()}catch(e){console.error("Error loading products:",e),this.listElement.innerHTML='<p class="error-message">Failed to load products. Please refresh the page.</p>'}}renderList(e){n(l,this.listElement,e)}addEventListeners(){this.listElement.querySelectorAll(".addToCart").forEach(a=>{a.addEventListener("click",()=>{console.log("Add to cart clicked for:",a.dataset.id)})})}}const c=new i("tents"),o=document.querySelector(".product-list"),m=new d("tents",c,o);m.init().catch(t=>{console.error("Error initializing ProductList:",t),o.innerHTML='<p class="error-message">Failed to load products. Please refresh the page.</p>'});export{g as __vite_legacy_guard};
